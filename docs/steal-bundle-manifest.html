<!DOCTYPE html>
<!--####################################################################
	THIS IS A GENERATED FILE -- ANY CHANGES MADE WILL BE OVERWRITTEN

	INSTEAD CHANGE:
	source: node_modules/steal-bundle-manifest/docs/steal-bundle-manifest.md
	@page steal-bundle-manifest
######################################################################## -->

<!--[if lt IE 7]>
<html class="no-js ie lt-ie9 lt-ie8 lt-ie7" lang="en">
<![endif]-->
<!--[if IE 7]>
<html class="no-js ie lt-ie9 lt-ie8" lang="en">
<![endif]-->
<!--[if IE 8]>
<html class="no-js ie lt-ie9" lang="en">
<![endif]-->
<!--[if IE 9]>
<html class="no-js ie ie9" lang="en">
<![endif]-->
<!--[if (gt IE 9)|!(IE)]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>StealJS  - steal-bundle-manifest</title>
	<meta name="description" content="">
	<meta name="author" content="">
	<meta property="og:title" content="StealJS  - steal-bundle-manifest">
	<meta property="og:description" content="">
	<meta property="og:image" content="https://www.bitovi.com/hs-fs/hubfs/open-source/os-stealjs.png">
	<script type="application/ld+json">
		{
			"@context": "http://www.schema.org",
			"@type": "SoftwareSourceCode",
			"applicationCategory": "DeveloperApplication",
			"brand": "Bitovi",
			"category": "JavaScript Frameworks",
			"codeRepository": "https://github.com/stealjs/steal",
			"description": "",
			"image": "https://www.bitovi.com/hs-fs/hubfs/open-source/os-stealjs.png",
			"license": "https://github.com/stealjs/steal/blob/master/license.md",
			"logo": "https://www.bitovi.com/hs-fs/hubfs/open-source/os-stealjs.png",
			"name": "StealJS  - steal-bundle-manifest",
			"programmingLanguage": "JavaScript"
		}
	</script>
	
		<link rel="stylesheet" type="text/css" href="./static/bundles/bit-docs-site/static.css">
	
	
		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-2302003-20', 'auto');
			ga('send', 'pageview');
		</script>
	
	<!--[if lt IE 9]>
		<script type="text/javascript" src="static/html5shiv.js"></script>
	<![endif]-->
</head>

<body class="docs">
	
	<header>
		
		<div style="display: none;" class="navbar"></div>
		<nav class="container">
			<div class="logo-menu">
				<a class="brand" href="./index.html">StealJS</a>

				<ul class="dropdown-menu">
					<li><a href="https://donejs.com/">DoneJS</a></li>
					<li><a href="https://stealjs.com/">StealJS</a></li>
					<li><a href="https://jquerypp.com/">jQuery ++</a></li>
					<li><a href="https://funcunit.com/">FuncUnit</a></li>
					<li><a href="https://documentjs.com/">DocumentJS</a></li>
				</ul>
			</div>

			<ul class="nav">
				<li><a href="https://stealjs.com">Home</a></li>

				
          <li class="active"><a href="index.html">Api</a></li>
        

				<li><a href="https://twitter.com/stealjs">Twitter</a></li>
				<li><a href="https://github.com/stealjs/steal">GitHub</a></li>
				<li><a href="https://gitter.im/stealjs/steal">Chat</a></li>
			</ul>

			<div class="pull-right">
				<div class="bitovi-menu">
					<a href="https://www.bitovi.com" class="bitovi icon-bits">Bitovi</a>
					<ul class="dropdown-menu">
						<li><a href="https://www.bitovi.com">Bitovi.com</a></li>
						<li><a href="https://www.bitovi.com/blog">Blog</a></li>
						<li><a href="https://www.bitovi.com/design">Design</a></li>
						<li><a href="https://www.bitovi.com/development">Development</a></li>
						<li><a href="https://www.bitovi.com/training">Training</a></li>
						<li><a href="https://www.bitovi.com/open-source">Open Source</a></li>
						<li><a href="https://www.bitovi.com/about">About</a></li>
						<li><a href="https://www.bitovi.com/contact">Contact Us</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</header>
	

	
<div class="container api">

	
	<nav class="sidebar">
		
		<ul class="api cascading primary-grouping">
	
		

		
			
				<li class="search-container active">
					<a
						class="sidebar-title"
						href="index.html"
						data-search="StealJS"
					>
						StealJS
					</a>
					
	
		<ul>
			
				
					
						<li class="heading search-container">
							<span>step-by-step guides</span>
							
	
		<ul>
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.guides.progressive_loading.html" data-search="Progressive Loading">
							Progressive Loading
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.quick-start.html" data-search="Quick Start">
							Quick Start
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.guides.boolean_conditional_loading.html" data-search="Boolean Conditional Loading">
							Boolean Conditional Loading
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.guides.substitution_conditional_loading.html" data-search="Substitution Conditional Loading">
							Substitution Conditional Loading
						</a>
					</li>
					

				
			
		</ul>
	


						</li>
					
					

				
			
				
					
						<li class="heading search-container">
							<span>development</span>
							
	
		<ul>
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.development-bundles.html" data-search="Development Bundles">
							Development Bundles
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.using-npm-packages.html" data-search="Using npm Packages">
							Using npm Packages
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.hot-module-replacement.html" data-search="Hot Module Replacement">
							Hot Module Replacement
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.configuration.html" data-search="Configuration">
							Configuration
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.conditionals.html" data-search="Conditional Loading">
							Conditional Loading
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.babel.html" data-search="Babel">
							Babel
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.circular.html" data-search="Circular Dependencies">
							Circular Dependencies
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.error-messages.html" data-search="Error Messages">
							Error Messages
						</a>
					</li>
					

				
			
		</ul>
	


						</li>
					
					

				
			
				
					
						<li class="heading search-container">
							<span>bundling</span>
							
	
		<ul>
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.optimized-builds.html" data-search="Optimized Builds">
							Optimized Builds
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="steal-tools.code-splitting.html" data-search="Code Splitting">
							Code Splitting
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="steal-tools.tree-shaking.html" data-search="Tree Shaking">
							Tree Shaking
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="steal-tools.watch-mode.html" data-search="Watch Mode">
							Watch Mode
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="steal-tools.multi-main.html" data-search="Multi-main Builds">
							Multi-main Builds
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.project-exporting.html" data-search="Project Exporting">
							Project Exporting
						</a>
					</li>
					

				
			
		</ul>
	


						</li>
					
					

				
			
				
					
						<li class="heading search-container">
							<span>production</span>
							
	
		<ul>
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.loading-from-cdn.html" data-search="Loading Scripts from a CDN">
							Loading Scripts from a CDN
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.moving-to-prod.html" data-search="Moving to Production">
							Moving to Production
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="steal-bundle-manifest.server.html" data-search="Server templating in Node">
							Server templating in Node
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="steal-bundle-manifest.snippets.html" data-search="Generating HTML Snippets">
							Generating HTML Snippets
						</a>
					</li>
					

				
			
		</ul>
	


						</li>
					
					

				
			
				
					
						<li class="heading search-container">
							<span>advanced</span>
							
	
		<ul>
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.writing-plugins.html" data-search="Writing Plugins">
							Writing Plugins
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="steal-tools.guides.streams.html" data-search="Streaming API">
							Streaming API
						</a>
					</li>
					

				
			
		</ul>
	


						</li>
					
					

				
			
				
					
						<li class="heading search-container">
							<span>apis</span>
							
	
		<ul>
			
				
					
					
					<li class="search-container">
						<a class="page" href="steal.html" data-search="steal">
							steal
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="steal-tools.html" data-search="steal-tools">
							steal-tools
						</a>
					</li>
					

				
			
		</ul>
	


						</li>
					
					

				
			
				
					
						<li class="heading search-container">
							<span>migrating</span>
							
	
		<ul>
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.migrating.html" data-search="Migrating from Legacy Steal">
							Migrating from Legacy Steal
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.topics.migrating-one.html" data-search="Migrating to StealJS 1.x">
							Migrating to StealJS 1.x
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.topics.migrating-two.html" data-search="Migrating to StealJS 2.x">
							Migrating to StealJS 2.x
						</a>
					</li>
					

				
			
		</ul>
	


						</li>
					
					

				
			
				
					
						<li class="heading search-container">
							<span>about</span>
							
	
		<ul>
			
				
					
					
					<li class="search-container">
						<a class="page" href="StealJS.why.html" data-search="Why StealJS">
							Why StealJS
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="page" href="guides.Contributing.html" data-search="Contributing">
							Contributing
						</a>
					</li>
					

				
			
		</ul>
	


						</li>
					
					

				
			
				
					
						<li class="heading search-container">
							<span>ecosystem</span>
							
	
		<ul>
			
				
					
					
					<li class="search-container">
						<a class="module" href="grunt-steal.html" data-search="grunt-steal">
							grunt-steal
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container active ">
						<a class="page" href="steal-bundle-manifest.html" data-search="steal-bundle-manifest">
							steal-bundle-manifest
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="module" href="steal-conditional.html" data-search="steal-conditional">
							steal-conditional
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="module" href="steal-css.html" data-search="steal-css">
							steal-css
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="module" href="steal-less.html" data-search="steal-less">
							steal-less
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="module" href="steal-mocha.html" data-search="steal-mocha">
							steal-mocha
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="module" href="steal-qunit.html" data-search="steal-qunit">
							steal-qunit
						</a>
					</li>
					

				
			
				
					
					
					<li class="search-container">
						<a class="module" href="steal-socket.io.html" data-search="steal-socket.io">
							steal-socket.io
						</a>
					</li>
					

				
			
		</ul>
	


						</li>
					
					

				
			
		</ul>
	


				</li>
			
		
	
</ul>

	</nav>
	

	
	<article class="content docs">
	

		
		<section class="title">
			<div class="heading">
<h1>steal-bundle-manifest</h1>
	<ul class="tags">
		<li>page</li>
	</ul>
	
	
</div>

<div class="sub-heading">
	
	
	<span class="inherits">&nbsp;</span>
</div>

<ul class="links">
	
	
	
</ul>
<br />

		</section>
		

		
		<section class="contents">
			<div class="on-this-page-container"></div>
		</section>
		

		

		
		<section class="description">
			<p><a href="https://travis-ci.org/stealjs/steal-bundle-manifest"><img src="https://travis-ci.org/stealjs/steal-bundle-manifest.svg?branch=master" alt="Build Status" /></a>
<a href="http://badge.fury.io/js/steal-bundle-manifest"><img src="https://badge.fury.io/js/steal-bundle-manifest.svg" alt="npm version" /></a></p>

		</section>
		

		
			
		

		


		
		<section class="comment">
			<p><strong>steal-bundle-manifest</strong> is a set of tools that help with working on bundle manifest files; these are files that specify a list of assets associated with a given route. In steal, these <em>routes</em> are keyed as module names.</p>
<h2>Install</h2>
<pre><code class="language-shell">npm install steal-bundle-manifest --save
</code></pre>
<h2>Usage</h2>
<p>The main export is a constructor function. Instantiating it will give you an object that can be used to pull information from a manifest. A typical usage looks like:</p>
<pre><code class="language-js">var BundleManifest = require(&quot;steal-bundle-manifest&quot;);
var spdy = require(&quot;spdy&quot;);

var manifest = new BundleManifest({
  serverRoot: &quot;/assets&quot;
});

spdy.createServer({
  cert: ...,
  key: ...,
  protocols: [&quot;h2&quot;, &quot;http/1.1&quot;]
}, function(req, res){
  if(req.url === &quot;orders&quot;) {

    var route = manifest.for(&quot;app/orders/&quot;);

    // Calling push will cause the assets to be pushed in HTTP2.
    route.push(req, res);

    var styles = route.assets.filter(a =&gt; a.type === &quot;style&quot;);
    var scripts = route.assets.filter(a =&gt; a.type === &quot;script&quot;);

    res.end(`
      &lt;html&gt;
        &lt;head&gt;
          ${route.toHTML(styles)}
        &lt;/head&gt;
        &lt;body&gt;
          &lt;h1&gt;Orders page&lt;/h1&gt;

          ${route.toHTML(scripts)}
        &lt;/body&gt;
      &lt;/html&gt;
    `);

  } else {
    ... other stuff
  }
});
</code></pre>
<h2>API</h2>
<h3>BundleManifest</h3>
<p>A <strong>BundleManifest</strong> is a type that represents a bundle manifest file. Upon instantiation you can provide a single argument <em>manifestOptions</em> to specify where files are located.</p>
<h4>manifestOptions</h4>
<p>An object including the following properties:</p>
<h5>manifest</h5>
<p>Specify the location of the manifest file. If not provided then <code>process.cwd() + &quot;/dist/bundles.json&quot;</code> is used.</p>
<pre><code class="language-js">var manifest = new BundleManifest({
  manifest: __dirname + &quot;public/bundles.json&quot;
});
</code></pre>
<h5>root</h5>
<p>Specify the root location from where to find the files listed in the bundle manifest.</p>
<pre><code class="language-js">var manifest = new BundleManifest({
  root: __dirname + &quot;/public&quot;
});
</code></pre>
<h5>serverRoot</h5>
<p>Specify the server's root, from where it should look for resources. This will influence how assets are written out when using the toHTML() API.</p>
<pre><code class="language-js">var manifest = new BundleManifest({
  serverRoot: &quot;/assets&quot;
});
</code></pre>
<p>Will cause scripts to be written like:</p>
<pre><code class="language-html">&lt;script src=&quot;/assets/dist/bundles/app/app.js&quot;&gt;&lt;/script&gt;
</code></pre>
<h4>for</h4>
<p>A method used to derive a <code>Route</code> object for a given module name. This lets you filter down the bundle manifest to just the route you are interested in.</p>
<pre><code class="language-js">var manifest = new BundleManifest();

var route = manifest.for(&quot;app/orders/&quot;);

route.assets; // -&gt; [ { type: &quot;script&quot;, path: &quot;dist/bundles...&quot; } ]
route.push; // function(){}
</code></pre>
<h3>Route</h3>
<p>A <em>Route</em> type is created when using <code>manifest.for(route)</code>. This is an object representing a given route (or root bundle). From here you can work with a set of <code>assets</code> for the route, filtering as necessary.</p>
<h4>assets</h4>
<p>An <em>Array</em> of all of the assets associated with this route. Use normal array methods to further derive subsets as needed. For example, you typically might want to filter the set of assets into scripts and styles so that you can generate HTML snippets for each, or to provide an array for looping in your chosen templating language.</p>
<pre><code class="language-js">var manifest = new BundleManifest();

var route = manifest.for(&quot;app/orders&quot;);

var scripts = route.assets.filter(a =&gt; a.type === &quot;script&quot;);
var styles = route.assets.filter(a =&gt; a.type === &quot;style&quot;);
</code></pre>
<h4>push</h4>
<p>A function which, given a Node.js request and response, will send PUSH messages when using HTTP/2, and add <a href="https://w3c.github.io/preload/#h-link-element-extensions">Preload</a> link headers when using HTTP/1.</p>
<p>This can be used <em>instead of</em> <a href="https://github.com/stealjs/steal-push">steal-push</a>. A typical usage with <a href="https://expressjs.com/">Express</a> looks like:</p>
<pre><code class="language-js">const spdy = require(&quot;spdy&quot;);
const express = require(&quot;express&quot;);
const BundleManifest = require(&quot;bundle-manifest&quot;);

const manifest = new BundleManifest();

app.get(&quot;/&quot;,
    manifest.for(&quot;main&quot;).push,
    function(req, res){
        ...
    });

app.get(&quot;/orders&quot;,
    manifest.for(&quot;orders/&quot;).push,
    function(req, res){
        ...
    });

spdy.createServer({
    key: ...,
    cert: ...,
    protocols: [&quot;h2&quot;, &quot;http/1.1&quot;]
}, app).listen(8080);
</code></pre>
<h4>toHTML</h4>
<p>This method generates HTML for assets. For scripts it creates <code>&lt;script&gt;</code> tags, for styles, <code>&lt;link&gt;</code> tags.</p>
<pre><code class="language-js">var scripts = route.assets.filter(a =&gt; a.type === &quot;script&quot;);

route.toHTML(scripts); // -&gt; &quot;&lt;script src=&quot;/dist/bundles/app/app.js&quot; async&gt;&lt;/script&gt;
</code></pre>
<h2>License</h2>
<p>MIT</p>

		</section>
		
		

		

		

	
	</article>
	


</div>


<survey-ad>
  <button aria-label="Close" class="close" type="button">
    <span aria-hidden="true">&times;</span>
  </button>
  <a href="https://donejs.com/survey.html" target="_blank">
    Help us improve StealJS by taking our community survey
  </a>
</survey-ad>


	
	<footer>
		<nav class="container">
			<a class="brand javascriptmvc" href="index.html"></a>
		</nav>
	</footer>
	

	<script type="text/javascript">
		var docObject = {"src":{"path":"node_modules/steal-bundle-manifest/docs/steal-bundle-manifest.md"},"description":"\n[![Build Status](https://travis-ci.org/stealjs/steal-bundle-manifest.svg?branch=master)](https://travis-ci.org/stealjs/steal-bundle-manifest)\n[![npm version](https://badge.fury.io/js/steal-bundle-manifest.svg)](http://badge.fury.io/js/steal-bundle-manifest)\n","name":"steal-bundle-manifest","type":"page","parent":"StealJS.ecosystem","pathToRoot":".."};
	</script>

	
		<script>
		  steal = {
		    instantiated: {
		      "bundles/bit-docs-site/static.css!$css" : null
		    }
		  }
		</script>
		<script type='text/javascript'
				data-main="bit-docs-site/static"
				src="./static/node_modules/steal/steal.production.js"></script>
	
</body>

</html>
